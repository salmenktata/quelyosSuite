// ========================================
// QUELYOS BRANDING - Styles Globaux
// Odoo 19.0 - Blue Professional Theme
// ========================================

@import '_variables';

// --------------------------------------------
// FORCE: Suppression de TOUTES les couleurs Purple
// --------------------------------------------

// Remplacement agressif de toutes les nuances de purple Odoo (styles inline)
[style*="#875A7B"],
[style*="#7c7bad"],
[style*="#714B67"],
[style*="#6f6a99"],
[style*="rgb(135, 90, 123)"],
[style*="rgb(124, 123, 173)"],
[style*="background-color: rgb(124, 123, 173)"],
[style*="background: rgb(124, 123, 173)"],
[style*="backgroundColor: rgb(124, 123, 173)"] {
  background-color: var(--quelyos-primary) !important;
  background: var(--quelyos-primary) !important;
  color: white !important;
}

// FORCE ULTRA-AGGRESSIVE: Tous les éléments avec une couleur de fond proche du purple
* {
  &[style*="rgb(124, 123, 173)"],
  &[style*="rgb(135, 90, 123)"],
  &[style*="#7c7bad"],
  &[style*="#875A7B"] {
    background-color: var(--quelyos-primary) !important;
    background: var(--quelyos-primary) !important;
  }
}

// SVG avec fill purple
svg [fill="#875A7B"],
svg [fill="#7c7bad"],
svg [fill="#714B67"],
svg [fill="#6f6a99"] {
  fill: var(--quelyos-primary) !important;
}

// --------------------------------------------
// Remplacement du Purple Odoo par Blue Quelyos
// --------------------------------------------

// Classes génériques Odoo utilisant purple
.o_primary,
.btn-primary,
.badge-primary,
.bg-primary {
  background-color: var(--quelyos-primary) !important;
  border-color: var(--quelyos-primary) !important;
  color: white !important;
}

.text-primary {
  color: var(--quelyos-primary) !important;
}

.border-primary {
  border-color: var(--quelyos-primary) !important;
}

// FORCE: Tous les liens dans les apps
.o_app a,
.o_app_name,
.o_app .o_caption {
  color: var(--quelyos-primary) !important;
}

// FORCE: Navigation tabs et sous-menus UNIQUEMENT dans la navbar principale
.o_main_navbar {
  .o_sub_menu,
  nav,
  .navbar-nav,
  .nav-tabs,
  .o_menu_sections {
    background-color: transparent !important;

    .nav-link,
    .nav-item,
    a {
      color: white !important;

      &:hover,
      &.active {
        background-color: var(--quelyos-primary-hover) !important;
      }
    }
  }
}

// FORCE: Dropdowns et boutons de menu UNIQUEMENT dans la navbar
.o_main_navbar {
  .o-dropdown,
  .dropdown-toggle,
  .dropdown,
  button[data-menu-xmlid] {
    background-color: transparent !important;
    color: white !important;

    &:hover {
      background-color: rgba(255, 255, 255, 0.1) !important;
    }

    span {
      color: white !important;
    }
  }
}

// FORCE: Tous les items de menu de navigation dans la NAVBAR UNIQUEMENT
// (exclure le menu latéral Apps)
.o_main_navbar,
.o_menu_sections {
  .o-dropdown-item,
  .o_nav_entry,
  a[data-menu-xmlid],
  a[data-section] {
    background-color: var(--quelyos-primary) !important;
    color: white !important;

    &:hover,
    &:focus {
      background-color: var(--quelyos-primary-hover) !important;
      color: white !important;
    }

    &.active {
      background-color: var(--quelyos-primary-dark) !important;
      color: white !important;
    }
  }
}

// Links
a:not(.btn) {
  color: var(--quelyos-blue-700);

  &:hover {
    color: var(--quelyos-blue-900);
  }
}

// Buttons primaires
.btn-primary {
  background-color: var(--quelyos-primary);
  border-color: var(--quelyos-primary);

  &:hover,
  &:focus {
    background-color: var(--quelyos-primary-hover);
    border-color: var(--quelyos-primary-hover);
  }

  &:active,
  &.active {
    background-color: var(--quelyos-primary-dark);
    border-color: var(--quelyos-primary-dark);
  }

  &:disabled {
    opacity: 0.6;
  }
}

// Badges
.badge-primary {
  background-color: var(--quelyos-primary);
}

// Alerts
.alert-primary {
  background-color: var(--quelyos-blue-50);
  border-color: var(--quelyos-blue-200);
  color: var(--quelyos-primary-dark);
}

// --------------------------------------------
// Composants UI Odoo spécifiques
// --------------------------------------------

// Navbar
.o_main_navbar {
  background-color: var(--quelyos-primary) !important;

  a {
    color: white !important;

    &:hover {
      background-color: var(--quelyos-primary-hover) !important;
    }
  }
}

// Menu apps
.o_app {
  .o_app_icon {
    border-color: var(--quelyos-blue-200);
  }

  &:hover .o_app_icon {
    border-color: var(--quelyos-primary);
    background-color: var(--quelyos-blue-50);
  }
}

// Breadcrumb actif
.breadcrumb-item.active {
  color: var(--quelyos-primary);
}

// Pagination
.page-link {
  color: var(--quelyos-blue-700);

  &:hover {
    color: var(--quelyos-blue-900);
    background-color: var(--quelyos-blue-50);
  }
}

.page-item.active .page-link {
  background-color: var(--quelyos-primary);
  border-color: var(--quelyos-primary);
}

// Checkboxes et radios
.custom-checkbox .custom-control-input:checked ~ .custom-control-label::before,
.form-check-input:checked {
  background-color: var(--quelyos-primary);
  border-color: var(--quelyos-primary);
}

// Progress bars
.progress-bar {
  background-color: var(--quelyos-primary);
}

// Tabs
.nav-tabs .nav-link.active {
  color: var(--quelyos-primary);
  border-bottom-color: var(--quelyos-primary);
}

// --------------------------------------------
// Form Controls
// --------------------------------------------

.form-control:focus,
.form-select:focus {
  border-color: var(--quelyos-blue-500);
  box-shadow: 0 0 0 0.2rem rgba(var(--quelyos-primary-rgb), 0.25);
}

// Input groups
.input-group-text {
  border-color: var(--quelyos-gray-300);
}

// --------------------------------------------
// Modals
// --------------------------------------------

.modal-header {
  background-color: var(--quelyos-blue-50);
  border-bottom-color: var(--quelyos-blue-200);
}

.modal-footer .btn-primary {
  background-color: var(--quelyos-primary);
}

// --------------------------------------------
// Dropdowns
// --------------------------------------------

.dropdown-item {
  &:hover,
  &:focus {
    background-color: var(--quelyos-blue-50);
  }

  &.active,
  &:active {
    background-color: var(--quelyos-primary);
    color: white;
  }
}

// --------------------------------------------
// Kanban & Cards
// --------------------------------------------

.o_kanban_record {
  &:hover {
    box-shadow: 0 4px 12px rgba(var(--quelyos-primary-rgb), 0.15);
  }
}

.card-header {
  background-color: var(--quelyos-blue-50);
  border-bottom-color: var(--quelyos-blue-200);
}

// --------------------------------------------
// Status badges
// --------------------------------------------

.badge.badge-info {
  background-color: var(--quelyos-blue-500);
}

// --------------------------------------------
// Loading spinners
// --------------------------------------------

.spinner-border,
.spinner-grow {
  color: var(--quelyos-primary);
}

// --------------------------------------------
// Accessibility
// --------------------------------------------

a:focus,
button:focus,
.btn:focus,
input:focus,
select:focus,
textarea:focus {
  outline: 2px solid var(--quelyos-blue-500);
  outline-offset: 2px;
}
