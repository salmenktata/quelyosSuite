const { PrismaClient } = require('@prisma/client');

const prisma = new PrismaClient();

/**
 * System Configuration Seed Script
 * Seeds 150+ system parameters across 14 categories
 * Run with: node prisma/seed-system-config.js
 */

const systemParameters = [
  // ═══════════════════════════════════════════════════════════════════════════
  // ML CATEGORIZATION (P1) - 8 parameters
  // ═══════════════════════════════════════════════════════════════════════════
  {
    key: 'ml.categorization.confidence_threshold',
    category: 'ML_CATEGORIZATION',
    scope: 'GLOBAL',
    type: 'PERCENTAGE',
    value: '60',
    defaultValue: '60',
    validation: { min: 0, max: 100, step: 5 },
    label: 'Confidence Threshold',
    description: 'Minimum confidence score to auto-apply category suggestions',
    unit: '%',
  },
  {
    key: 'ml.categorization.cache_ttl',
    category: 'ML_CATEGORIZATION',
    scope: 'GLOBAL',
    type: 'DURATION',
    value: '300',
    defaultValue: '300',
    validation: { min: 60, max: 3600 },
    label: 'Model Cache TTL',
    description: 'Time to live for cached ML model predictions (seconds)',
    unit: 'seconds',
  },
  {
    key: 'ml.categorization.training_min_transactions',
    category: 'ML_CATEGORIZATION',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '100',
    defaultValue: '100',
    validation: { min: 50, max: 500 },
    label: 'Min Training Transactions',
    description: 'Minimum transactions required to train a company-specific model',
    unit: 'transactions',
  },
  {
    key: 'ml.categorization.fallback_to_global',
    category: 'ML_CATEGORIZATION',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'Fallback to Global Model',
    description: 'Use global model if company-specific model unavailable',
  },
  {
    key: 'ml.categorization.retrain_frequency_days',
    category: 'ML_CATEGORIZATION',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '7',
    defaultValue: '7',
    validation: { min: 1, max: 30 },
    label: 'Retrain Frequency',
    description: 'Days between automatic model retraining',
    unit: 'days',
  },
  {
    key: 'ml.categorization.max_suggestions_per_transaction',
    category: 'ML_CATEGORIZATION',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '3',
    defaultValue: '3',
    validation: { min: 1, max: 5 },
    label: 'Max Suggestions',
    description: 'Maximum category suggestions to show per transaction',
    unit: 'suggestions',
  },
  {
    key: 'ml.categorization.enable_auto_categorization',
    category: 'ML_CATEGORIZATION',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'Enable Auto-Categorization',
    description: 'Automatically apply high-confidence suggestions',
  },
  {
    key: 'ml.categorization.learning_rate',
    category: 'ML_CATEGORIZATION',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '0.01',
    defaultValue: '0.01',
    validation: { min: 0.001, max: 0.1 },
    label: 'Model Learning Rate',
    description: 'Learning rate for ML model training',
  },

  // ═══════════════════════════════════════════════════════════════════════════
  // ML ANOMALY (P2) - 12 parameters
  // ═══════════════════════════════════════════════════════════════════════════
  {
    key: 'ml.anomaly.contamination',
    category: 'ML_ANOMALY',
    scope: 'GLOBAL',
    type: 'PERCENTAGE',
    value: '5',
    defaultValue: '5',
    validation: { min: 1, max: 20, step: 1 },
    label: 'Contamination Rate',
    description: 'Expected proportion of outliers in dataset',
    unit: '%',
  },
  {
    key: 'ml.anomaly.severity_threshold_high',
    category: 'ML_ANOMALY',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '0.8',
    defaultValue: '0.8',
    validation: { min: 0.5, max: 1.0, step: 0.05 },
    label: 'High Severity Threshold',
    description: 'Anomaly score threshold for high severity alerts',
  },
  {
    key: 'ml.anomaly.severity_threshold_medium',
    category: 'ML_ANOMALY',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '0.6',
    defaultValue: '0.6',
    validation: { min: 0.3, max: 0.8, step: 0.05 },
    label: 'Medium Severity Threshold',
    description: 'Anomaly score threshold for medium severity alerts',
  },
  {
    key: 'ml.anomaly.severity_threshold_low',
    category: 'ML_ANOMALY',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '0.4',
    defaultValue: '0.4',
    validation: { min: 0.1, max: 0.6, step: 0.05 },
    label: 'Low Severity Threshold',
    description: 'Anomaly score threshold for low severity alerts',
  },
  {
    key: 'ml.anomaly.min_transactions_for_detection',
    category: 'ML_ANOMALY',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '50',
    defaultValue: '50',
    validation: { min: 20, max: 200 },
    label: 'Min Transactions',
    description: 'Minimum transactions needed to detect anomalies',
    unit: 'transactions',
  },
  {
    key: 'ml.anomaly.lookback_days',
    category: 'ML_ANOMALY',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '90',
    defaultValue: '90',
    validation: { min: 30, max: 365 },
    label: 'Lookback Period',
    description: 'Days of historical data to analyze',
    unit: 'days',
  },
  {
    key: 'ml.anomaly.enable_amount_detection',
    category: 'ML_ANOMALY',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'Enable Amount Detection',
    description: 'Detect anomalies based on transaction amount',
  },
  {
    key: 'ml.anomaly.enable_frequency_detection',
    category: 'ML_ANOMALY',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'Enable Frequency Detection',
    description: 'Detect anomalies based on transaction frequency',
  },
  {
    key: 'ml.anomaly.enable_pattern_detection',
    category: 'ML_ANOMALY',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'Enable Pattern Detection',
    description: 'Detect anomalies based on transaction patterns',
  },
  {
    key: 'ml.anomaly.auto_dismiss_low_severity',
    category: 'ML_ANOMALY',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'false',
    defaultValue: 'false',
    validation: {},
    label: 'Auto-Dismiss Low Severity',
    description: 'Automatically dismiss low severity anomalies after X days',
  },
  {
    key: 'ml.anomaly.auto_dismiss_days',
    category: 'ML_ANOMALY',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '7',
    defaultValue: '7',
    validation: { min: 1, max: 30 },
    label: 'Auto-Dismiss Days',
    description: 'Days after which low severity anomalies are auto-dismissed',
    unit: 'days',
  },
  {
    key: 'ml.anomaly.cache_ttl',
    category: 'ML_ANOMALY',
    scope: 'GLOBAL',
    type: 'DURATION',
    value: '600',
    defaultValue: '600',
    validation: { min: 300, max: 3600 },
    label: 'Cache TTL',
    description: 'Cache time for anomaly detection results',
    unit: 'seconds',
  },

  // ═══════════════════════════════════════════════════════════════════════════
  // ML DUPLICATES (P3) - 10 parameters
  // ═══════════════════════════════════════════════════════════════════════════
  {
    key: 'ml.duplicates.similarity_threshold',
    category: 'ML_DUPLICATES',
    scope: 'GLOBAL',
    type: 'PERCENTAGE',
    value: '75',
    defaultValue: '75',
    validation: { min: 50, max: 100, step: 5 },
    label: 'Similarity Threshold',
    description: 'Minimum similarity score to flag as duplicate',
    unit: '%',
  },
  {
    key: 'ml.duplicates.weight_description',
    category: 'ML_DUPLICATES',
    scope: 'GLOBAL',
    type: 'PERCENTAGE',
    value: '60',
    defaultValue: '60',
    validation: { min: 0, max: 100, step: 5 },
    label: 'Description Weight',
    description: 'Weight of description similarity in scoring',
    unit: '%',
  },
  {
    key: 'ml.duplicates.weight_amount',
    category: 'ML_DUPLICATES',
    scope: 'GLOBAL',
    type: 'PERCENTAGE',
    value: '20',
    defaultValue: '20',
    validation: { min: 0, max: 100, step: 5 },
    label: 'Amount Weight',
    description: 'Weight of amount similarity in scoring',
    unit: '%',
  },
  {
    key: 'ml.duplicates.weight_date',
    category: 'ML_DUPLICATES',
    scope: 'GLOBAL',
    type: 'PERCENTAGE',
    value: '20',
    defaultValue: '20',
    validation: { min: 0, max: 100, step: 5 },
    label: 'Date Weight',
    description: 'Weight of date proximity in scoring',
    unit: '%',
  },
  {
    key: 'ml.duplicates.date_window_days',
    category: 'ML_DUPLICATES',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '7',
    defaultValue: '7',
    validation: { min: 1, max: 30 },
    label: 'Date Window',
    description: 'Days window to search for duplicates',
    unit: 'days',
  },
  {
    key: 'ml.duplicates.amount_tolerance_percent',
    category: 'ML_DUPLICATES',
    scope: 'GLOBAL',
    type: 'PERCENTAGE',
    value: '5',
    defaultValue: '5',
    validation: { min: 0, max: 20, step: 1 },
    label: 'Amount Tolerance',
    description: 'Acceptable amount variance for duplicates',
    unit: '%',
  },
  {
    key: 'ml.duplicates.auto_flag_threshold',
    category: 'ML_DUPLICATES',
    scope: 'GLOBAL',
    type: 'PERCENTAGE',
    value: '90',
    defaultValue: '90',
    validation: { min: 70, max: 100, step: 5 },
    label: 'Auto-Flag Threshold',
    description: 'Similarity score to auto-flag as duplicate',
    unit: '%',
  },
  {
    key: 'ml.duplicates.fuzzy_matching_enabled',
    category: 'ML_DUPLICATES',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'Fuzzy Matching',
    description: 'Enable fuzzy string matching for descriptions',
  },
  {
    key: 'ml.duplicates.case_sensitive',
    category: 'ML_DUPLICATES',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'false',
    defaultValue: 'false',
    validation: {},
    label: 'Case Sensitive',
    description: 'Case-sensitive description comparison',
  },
  {
    key: 'ml.duplicates.ignore_whitespace',
    category: 'ML_DUPLICATES',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'Ignore Whitespace',
    description: 'Ignore whitespace in description comparison',
  },

  // ═══════════════════════════════════════════════════════════════════════════
  // ML SMART BUDGETS (P4) - 14 parameters
  // ═══════════════════════════════════════════════════════════════════════════
  {
    key: 'ml.budgets.recommended_percentile',
    category: 'ML_SMART_BUDGETS',
    scope: 'GLOBAL',
    type: 'STRING',
    value: 'q3',
    defaultValue: 'q3',
    validation: { enum: ['q1', 'q2', 'q3', 'max', 'avg'] },
    label: 'Recommended Percentile',
    description: 'Statistical measure for budget recommendations',
  },
  {
    key: 'ml.budgets.min_historical_months',
    category: 'ML_SMART_BUDGETS',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '3',
    defaultValue: '3',
    validation: { min: 3, max: 6 },
    label: 'Min Historical Months',
    description: 'Minimum months of data for recommendations',
    unit: 'months',
  },
  {
    key: 'ml.budgets.max_historical_months',
    category: 'ML_SMART_BUDGETS',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '24',
    defaultValue: '24',
    validation: { min: 6, max: 36 },
    label: 'Max Historical Months',
    description: 'Maximum months of data to analyze',
    unit: 'months',
  },
  {
    key: 'ml.budgets.confidence_threshold',
    category: 'ML_SMART_BUDGETS',
    scope: 'GLOBAL',
    type: 'PERCENTAGE',
    value: '70',
    defaultValue: '70',
    validation: { min: 50, max: 100, step: 5 },
    label: 'Confidence Threshold',
    description: 'Minimum confidence to show recommendation',
    unit: '%',
  },
  {
    key: 'ml.budgets.seasonal_adjustment',
    category: 'ML_SMART_BUDGETS',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'Seasonal Adjustment',
    description: 'Adjust recommendations for seasonal patterns',
  },
  {
    key: 'ml.budgets.trend_detection',
    category: 'ML_SMART_BUDGETS',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'Trend Detection',
    description: 'Detect and incorporate spending trends',
  },
  {
    key: 'ml.budgets.outlier_removal',
    category: 'ML_SMART_BUDGETS',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'Outlier Removal',
    description: 'Remove outliers before calculation',
  },
  {
    key: 'ml.budgets.cache_validity_days',
    category: 'ML_SMART_BUDGETS',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '7',
    defaultValue: '7',
    validation: { min: 1, max: 30 },
    label: 'Cache Validity',
    description: 'Days to cache budget recommendations',
    unit: 'days',
  },
  {
    key: 'ml.budgets.growth_factor',
    category: 'ML_SMART_BUDGETS',
    scope: 'GLOBAL',
    type: 'PERCENTAGE',
    value: '10',
    defaultValue: '10',
    validation: { min: 0, max: 50, step: 5 },
    label: 'Growth Factor',
    description: 'Padding percentage for growing trends',
    unit: '%',
  },
  {
    key: 'ml.budgets.min_transactions_per_month',
    category: 'ML_SMART_BUDGETS',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '3',
    defaultValue: '3',
    validation: { min: 1, max: 10 },
    label: 'Min Monthly Transactions',
    description: 'Minimum transactions per month for valid analysis',
    unit: 'transactions',
  },
  {
    key: 'ml.budgets.enable_auto_create',
    category: 'ML_SMART_BUDGETS',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'false',
    defaultValue: 'false',
    validation: {},
    label: 'Auto-Create Budgets',
    description: 'Automatically create budgets from recommendations',
  },
  {
    key: 'ml.budgets.seasonality_months',
    category: 'ML_SMART_BUDGETS',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '12',
    defaultValue: '12',
    validation: { min: 6, max: 24 },
    label: 'Seasonality Period',
    description: 'Months to detect seasonal patterns',
    unit: 'months',
  },
  {
    key: 'ml.budgets.forecast_months_ahead',
    category: 'ML_SMART_BUDGETS',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '3',
    defaultValue: '3',
    validation: { min: 1, max: 12 },
    label: 'Forecast Horizon',
    description: 'Months to forecast ahead',
    unit: 'months',
  },
  {
    key: 'ml.budgets.pattern_stable',
    category: 'ML_SMART_BUDGETS',
    scope: 'GLOBAL',
    type: 'STRING',
    value: 'stable',
    defaultValue: 'stable',
    validation: { enum: ['stable', 'increasing', 'decreasing', 'seasonal'] },
    label: 'Default Pattern',
    description: 'Default spending pattern assumption',
  },

  // ═══════════════════════════════════════════════════════════════════════════
  // ML CREDIT SCORING (P5) - 16 parameters
  // ═══════════════════════════════════════════════════════════════════════════
  {
    key: 'ml.credit.risk_threshold_low_max',
    category: 'ML_CREDIT_SCORING',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '30',
    defaultValue: '30',
    validation: { min: 0, max: 100 },
    label: 'Low Risk Max Score',
    description: 'Maximum score for low risk classification (0-30)',
  },
  {
    key: 'ml.credit.risk_threshold_medium_max',
    category: 'ML_CREDIT_SCORING',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '60',
    defaultValue: '60',
    validation: { min: 31, max: 100 },
    label: 'Medium Risk Max Score',
    description: 'Maximum score for medium risk classification (31-60)',
  },
  {
    key: 'ml.credit.risk_threshold_high_max',
    category: 'ML_CREDIT_SCORING',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '85',
    defaultValue: '85',
    validation: { min: 61, max: 100 },
    label: 'High Risk Max Score',
    description: 'Maximum score for high risk classification (61-85)',
  },
  {
    key: 'ml.credit.min_invoices_for_scoring',
    category: 'ML_CREDIT_SCORING',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '3',
    defaultValue: '3',
    validation: { min: 1, max: 10 },
    label: 'Min Invoices',
    description: 'Minimum invoices needed for credit scoring',
    unit: 'invoices',
  },
  {
    key: 'ml.credit.lookback_months',
    category: 'ML_CREDIT_SCORING',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '12',
    defaultValue: '12',
    validation: { min: 3, max: 36 },
    label: 'Lookback Period',
    description: 'Months of payment history to analyze',
    unit: 'months',
  },
  {
    key: 'ml.credit.weight_payment_delay',
    category: 'ML_CREDIT_SCORING',
    scope: 'GLOBAL',
    type: 'PERCENTAGE',
    value: '40',
    defaultValue: '40',
    validation: { min: 0, max: 100, step: 5 },
    label: 'Payment Delay Weight',
    description: 'Weight of average payment delay in score',
    unit: '%',
  },
  {
    key: 'ml.credit.weight_late_rate',
    category: 'ML_CREDIT_SCORING',
    scope: 'GLOBAL',
    type: 'PERCENTAGE',
    value: '30',
    defaultValue: '30',
    validation: { min: 0, max: 100, step: 5 },
    label: 'Late Payment Rate Weight',
    description: 'Weight of late payment frequency in score',
    unit: '%',
  },
  {
    key: 'ml.credit.weight_relationship_months',
    category: 'ML_CREDIT_SCORING',
    scope: 'GLOBAL',
    type: 'PERCENTAGE',
    value: '20',
    defaultValue: '20',
    validation: { min: 0, max: 100, step: 5 },
    label: 'Relationship Duration Weight',
    description: 'Weight of relationship duration in score',
    unit: '%',
  },
  {
    key: 'ml.credit.weight_payment_consistency',
    category: 'ML_CREDIT_SCORING',
    scope: 'GLOBAL',
    type: 'PERCENTAGE',
    value: '10',
    defaultValue: '10',
    validation: { min: 0, max: 100, step: 5 },
    label: 'Consistency Weight',
    description: 'Weight of payment consistency in score',
    unit: '%',
  },
  {
    key: 'ml.credit.cache_validity_days',
    category: 'ML_CREDIT_SCORING',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '30',
    defaultValue: '30',
    validation: { min: 1, max: 90 },
    label: 'Cache Validity',
    description: 'Days to cache credit scores',
    unit: 'days',
  },
  {
    key: 'ml.credit.auto_suspend_critical_risk',
    category: 'ML_CREDIT_SCORING',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'false',
    defaultValue: 'false',
    validation: {},
    label: 'Auto-Suspend Critical',
    description: 'Automatically suspend critical risk customers',
  },
  {
    key: 'ml.credit.alert_on_risk_change',
    category: 'ML_CREDIT_SCORING',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'Alert on Risk Change',
    description: 'Send alert when customer risk level changes',
  },
  {
    key: 'ml.credit.payment_terms_default',
    category: 'ML_CREDIT_SCORING',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '30',
    defaultValue: '30',
    validation: { min: 0, max: 90 },
    label: 'Default Payment Terms',
    description: 'Default payment terms for new customers',
    unit: 'days',
  },
  {
    key: 'ml.credit.early_payment_bonus',
    category: 'ML_CREDIT_SCORING',
    scope: 'GLOBAL',
    type: 'PERCENTAGE',
    value: '2',
    defaultValue: '2',
    validation: { min: 0, max: 10, step: 0.5 },
    label: 'Early Payment Discount',
    description: 'Discount for early payment',
    unit: '%',
  },
  {
    key: 'ml.credit.late_payment_penalty',
    category: 'ML_CREDIT_SCORING',
    scope: 'GLOBAL',
    type: 'PERCENTAGE',
    value: '10',
    defaultValue: '10',
    validation: { min: 0, max: 20, step: 1 },
    label: 'Late Payment Penalty',
    description: 'Penalty rate for late payments',
    unit: '%',
  },
  {
    key: 'ml.credit.model_version',
    category: 'ML_CREDIT_SCORING',
    scope: 'GLOBAL',
    type: 'STRING',
    value: '1.0',
    defaultValue: '1.0',
    validation: {},
    label: 'Model Version',
    description: 'Current credit scoring model version',
  },

  // ═══════════════════════════════════════════════════════════════════════════
  // VAT & FISCAL - 8 parameters
  // ═══════════════════════════════════════════════════════════════════════════
  {
    key: 'vat.default_rate',
    category: 'VAT_FISCAL',
    scope: 'COMPANY',
    type: 'PERCENTAGE',
    value: '20',
    defaultValue: '20',
    validation: { min: 0, max: 100, step: 0.5 },
    label: 'Default VAT Rate',
    description: 'Default VAT rate for transactions',
    unit: '%',
  },
  {
    key: 'vat.rate_standard',
    category: 'VAT_FISCAL',
    scope: 'COMPANY',
    type: 'PERCENTAGE',
    value: '20',
    defaultValue: '20',
    validation: { min: 0, max: 100, step: 0.5 },
    label: 'Standard VAT Rate',
    description: 'Standard VAT rate (France: 20%)',
    unit: '%',
  },
  {
    key: 'vat.rate_intermediate',
    category: 'VAT_FISCAL',
    scope: 'COMPANY',
    type: 'PERCENTAGE',
    value: '10',
    defaultValue: '10',
    validation: { min: 0, max: 100, step: 0.5 },
    label: 'Intermediate VAT Rate',
    description: 'Intermediate VAT rate (France: 10%)',
    unit: '%',
  },
  {
    key: 'vat.rate_reduced',
    category: 'VAT_FISCAL',
    scope: 'COMPANY',
    type: 'PERCENTAGE',
    value: '5.5',
    defaultValue: '5.5',
    validation: { min: 0, max: 100, step: 0.5 },
    label: 'Reduced VAT Rate',
    description: 'Reduced VAT rate (France: 5.5%)',
    unit: '%',
  },
  {
    key: 'vat.rate_super_reduced',
    category: 'VAT_FISCAL',
    scope: 'COMPANY',
    type: 'PERCENTAGE',
    value: '2.1',
    defaultValue: '2.1',
    validation: { min: 0, max: 100, step: 0.1 },
    label: 'Super Reduced VAT Rate',
    description: 'Super reduced VAT rate (France: 2.1%)',
    unit: '%',
  },
  {
    key: 'vat.default_mode',
    category: 'VAT_FISCAL',
    scope: 'COMPANY',
    type: 'ENUM',
    value: 'HT',
    defaultValue: 'HT',
    validation: { enum: ['HT', 'TTC'] },
    label: 'Default VAT Mode',
    description: 'Default VAT calculation mode (HT or TTC)',
  },
  {
    key: 'vat.active',
    category: 'VAT_FISCAL',
    scope: 'COMPANY',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'VAT Active',
    description: 'Enable VAT calculations',
  },
  {
    key: 'vat.regime',
    category: 'VAT_FISCAL',
    scope: 'COMPANY',
    type: 'ENUM',
    value: 'normal',
    defaultValue: 'normal',
    validation: { enum: ['normal', 'franchise', 'mini_reel'] },
    label: 'VAT Regime',
    description: 'Company VAT regime (normal, franchise, mini-réel)',
  },

  // ═══════════════════════════════════════════════════════════════════════════
  // BUDGET ALERTS - 8 parameters
  // ═══════════════════════════════════════════════════════════════════════════
  {
    key: 'budget.alert_threshold_warning',
    category: 'BUDGET_ALERTS',
    scope: 'COMPANY',
    type: 'PERCENTAGE',
    value: '80',
    defaultValue: '80',
    validation: { min: 50, max: 100, step: 5 },
    label: 'Warning Threshold',
    description: 'Budget usage percentage for warning alert',
    unit: '%',
  },
  {
    key: 'budget.alert_threshold_critical',
    category: 'BUDGET_ALERTS',
    scope: 'COMPANY',
    type: 'PERCENTAGE',
    value: '100',
    defaultValue: '100',
    validation: { min: 80, max: 150, step: 5 },
    label: 'Critical Threshold',
    description: 'Budget usage percentage for critical alert',
    unit: '%',
  },
  {
    key: 'budget.alert_cooldown_hours',
    category: 'BUDGET_ALERTS',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '24',
    defaultValue: '24',
    validation: { min: 1, max: 168 },
    label: 'Alert Cooldown',
    description: 'Hours between duplicate alerts',
    unit: 'hours',
  },
  {
    key: 'budget.email_notifications',
    category: 'BUDGET_ALERTS',
    scope: 'USER',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'Email Notifications',
    description: 'Send email notifications for budget alerts',
  },
  {
    key: 'budget.push_notifications',
    category: 'BUDGET_ALERTS',
    scope: 'USER',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'Push Notifications',
    description: 'Send push notifications for budget alerts',
  },
  {
    key: 'budget.daily_digest',
    category: 'BUDGET_ALERTS',
    scope: 'USER',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'Daily Budget Digest',
    description: 'Send daily budget status digest',
  },
  {
    key: 'budget.weekly_summary',
    category: 'BUDGET_ALERTS',
    scope: 'USER',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'Weekly Summary',
    description: 'Send weekly budget performance summary',
  },
  {
    key: 'budget.monthly_report',
    category: 'BUDGET_ALERTS',
    scope: 'USER',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'Monthly Report',
    description: 'Send monthly budget performance report',
  },

  // ═══════════════════════════════════════════════════════════════════════════
  // MULTI-CURRENCY - 10 parameters
  // ═══════════════════════════════════════════════════════════════════════════
  {
    key: 'currency.base',
    category: 'CURRENCY',
    scope: 'COMPANY',
    type: 'STRING',
    value: 'EUR',
    defaultValue: 'EUR',
    validation: { enum: ['EUR', 'USD', 'GBP', 'CHF', 'CAD', 'JPY', 'AUD'] },
    label: 'Base Currency',
    description: 'Company base currency for reporting',
  },
  {
    key: 'currency.auto_update_rates',
    category: 'CURRENCY',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'Auto-Update Rates',
    description: 'Automatically update exchange rates daily',
  },
  {
    key: 'currency.update_frequency_hours',
    category: 'CURRENCY',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '24',
    defaultValue: '24',
    validation: { min: 1, max: 168 },
    label: 'Update Frequency',
    description: 'Hours between exchange rate updates',
    unit: 'hours',
  },
  {
    key: 'currency.api_provider',
    category: 'CURRENCY',
    scope: 'GLOBAL',
    type: 'STRING',
    value: 'frankfurter',
    defaultValue: 'frankfurter',
    validation: { enum: ['frankfurter', 'ecb', 'fixer', 'manual'] },
    label: 'API Provider',
    description: 'Exchange rate API provider',
  },
  {
    key: 'currency.fallback_to_cached',
    category: 'CURRENCY',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'Fallback to Cached',
    description: 'Use cached rates if API unavailable',
  },
  {
    key: 'currency.cache_ttl_hours',
    category: 'CURRENCY',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '48',
    defaultValue: '48',
    validation: { min: 12, max: 168 },
    label: 'Cache TTL',
    description: 'Hours to cache exchange rates',
    unit: 'hours',
  },
  {
    key: 'currency.decimal_places',
    category: 'CURRENCY',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '2',
    defaultValue: '2',
    validation: { min: 2, max: 8 },
    label: 'Decimal Places',
    description: 'Decimal precision for currency conversions',
  },
  {
    key: 'currency.display_symbol',
    category: 'CURRENCY',
    scope: 'USER',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'Display Symbol',
    description: 'Show currency symbol in UI',
  },
  {
    key: 'currency.symbol_position',
    category: 'CURRENCY',
    scope: 'USER',
    type: 'ENUM',
    value: 'after',
    defaultValue: 'after',
    validation: { enum: ['before', 'after'] },
    label: 'Symbol Position',
    description: 'Currency symbol position (before or after amount)',
  },
  {
    key: 'currency.thousand_separator',
    category: 'CURRENCY',
    scope: 'USER',
    type: 'STRING',
    value: ' ',
    defaultValue: ' ',
    validation: { enum: [' ', ',', '.', ''] },
    label: 'Thousand Separator',
    description: 'Thousand separator for number formatting',
  },

  // ═══════════════════════════════════════════════════════════════════════════
  // FORECASTING PROPHET (P6) - 12 parameters
  // ═══════════════════════════════════════════════════════════════════════════
  {
    key: 'forecast.horizon_days',
    category: 'FORECASTING_PROPHET',
    scope: 'COMPANY',
    type: 'NUMBER',
    value: '365',
    defaultValue: '365',
    validation: { min: 30, max: 730 },
    label: 'Forecast Horizon',
    description: 'Days to forecast ahead',
    unit: 'days',
  },
  {
    key: 'forecast.confidence_level_primary',
    category: 'FORECASTING_PROPHET',
    scope: 'GLOBAL',
    type: 'PERCENTAGE',
    value: '80',
    defaultValue: '80',
    validation: { min: 50, max: 99, step: 5 },
    label: 'Primary Confidence Level',
    description: 'Primary confidence interval (e.g., 80%)',
    unit: '%',
  },
  {
    key: 'forecast.confidence_level_secondary',
    category: 'FORECASTING_PROPHET',
    scope: 'GLOBAL',
    type: 'PERCENTAGE',
    value: '95',
    defaultValue: '95',
    validation: { min: 50, max: 99, step: 5 },
    label: 'Secondary Confidence Level',
    description: 'Secondary confidence interval (e.g., 95%)',
    unit: '%',
  },
  {
    key: 'forecast.min_historical_days',
    category: 'FORECASTING_PROPHET',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '90',
    defaultValue: '90',
    validation: { min: 30, max: 365 },
    label: 'Min Historical Data',
    description: 'Minimum days of historical data needed',
    unit: 'days',
  },
  {
    key: 'forecast.seasonality_mode',
    category: 'FORECASTING_PROPHET',
    scope: 'GLOBAL',
    type: 'ENUM',
    value: 'multiplicative',
    defaultValue: 'multiplicative',
    validation: { enum: ['additive', 'multiplicative'] },
    label: 'Seasonality Mode',
    description: 'Prophet seasonality mode',
  },
  {
    key: 'forecast.yearly_seasonality',
    category: 'FORECASTING_PROPHET',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'Yearly Seasonality',
    description: 'Enable yearly seasonality detection',
  },
  {
    key: 'forecast.weekly_seasonality',
    category: 'FORECASTING_PROPHET',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'Weekly Seasonality',
    description: 'Enable weekly seasonality detection',
  },
  {
    key: 'forecast.daily_seasonality',
    category: 'FORECASTING_PROPHET',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'false',
    defaultValue: 'false',
    validation: {},
    label: 'Daily Seasonality',
    description: 'Enable daily seasonality detection',
  },
  {
    key: 'forecast.growth_model',
    category: 'FORECASTING_PROPHET',
    scope: 'GLOBAL',
    type: 'ENUM',
    value: 'linear',
    defaultValue: 'linear',
    validation: { enum: ['linear', 'logistic'] },
    label: 'Growth Model',
    description: 'Prophet growth model type',
  },
  {
    key: 'forecast.cache_ttl_hours',
    category: 'FORECASTING_PROPHET',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '24',
    defaultValue: '24',
    validation: { min: 1, max: 168 },
    label: 'Cache TTL',
    description: 'Hours to cache forecast results',
    unit: 'hours',
  },
  {
    key: 'forecast.auto_events_detection',
    category: 'FORECASTING_PROPHET',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'Auto Event Detection',
    description: 'Automatically detect and mark events',
  },
  {
    key: 'forecast.changepoint_prior_scale',
    category: 'FORECASTING_PROPHET',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '0.05',
    defaultValue: '0.05',
    validation: { min: 0.001, max: 0.5 },
    label: 'Changepoint Prior Scale',
    description: 'Prophet changepoint flexibility',
  },

  // ═══════════════════════════════════════════════════════════════════════════
  // PATTERN DETECTION - 8 parameters
  // ═══════════════════════════════════════════════════════════════════════════
  {
    key: 'pattern.min_occurrences',
    category: 'PATTERN_DETECTION',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '3',
    defaultValue: '3',
    validation: { min: 2, max: 10 },
    label: 'Min Occurrences',
    description: 'Minimum occurrences to detect a pattern',
    unit: 'times',
  },
  {
    key: 'pattern.tolerance_days',
    category: 'PATTERN_DETECTION',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '3',
    defaultValue: '3',
    validation: { min: 1, max: 7 },
    label: 'Date Tolerance',
    description: 'Days of tolerance for pattern matching',
    unit: 'days',
  },
  {
    key: 'pattern.tolerance_amount',
    category: 'PATTERN_DETECTION',
    scope: 'GLOBAL',
    type: 'PERCENTAGE',
    value: '5',
    defaultValue: '5',
    validation: { min: 0, max: 20, step: 1 },
    label: 'Amount Tolerance',
    description: 'Amount variance tolerance for patterns',
    unit: '%',
  },
  {
    key: 'pattern.lookback_months',
    category: 'PATTERN_DETECTION',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '12',
    defaultValue: '12',
    validation: { min: 3, max: 24 },
    label: 'Lookback Period',
    description: 'Months to search for patterns',
    unit: 'months',
  },
  {
    key: 'pattern.frequency_types',
    category: 'PATTERN_DETECTION',
    scope: 'GLOBAL',
    type: 'JSON',
    value: '["daily","weekly","monthly","quarterly","yearly"]',
    defaultValue: '["daily","weekly","monthly","quarterly","yearly"]',
    validation: {},
    label: 'Frequency Types',
    description: 'Recurring pattern frequencies to detect',
  },
  {
    key: 'pattern.auto_create_recurring',
    category: 'PATTERN_DETECTION',
    scope: 'COMPANY',
    type: 'BOOLEAN',
    value: 'false',
    defaultValue: 'false',
    validation: {},
    label: 'Auto-Create Recurring',
    description: 'Auto-create recurring transactions from patterns',
  },
  {
    key: 'pattern.confidence_threshold',
    category: 'PATTERN_DETECTION',
    scope: 'GLOBAL',
    type: 'PERCENTAGE',
    value: '70',
    defaultValue: '70',
    validation: { min: 50, max: 100, step: 5 },
    label: 'Confidence Threshold',
    description: 'Minimum confidence to suggest pattern',
    unit: '%',
  },
  {
    key: 'pattern.enable_suggestions',
    category: 'PATTERN_DETECTION',
    scope: 'COMPANY',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'Enable Suggestions',
    description: 'Show pattern-based transaction suggestions',
  },

  // ═══════════════════════════════════════════════════════════════════════════
  // PLAN LIMITS (PAYWALL) - 18 parameters
  // ═══════════════════════════════════════════════════════════════════════════
  {
    key: 'plan.free.max_accounts',
    category: 'PLAN_LIMITS',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '2',
    defaultValue: '2',
    validation: { min: 1, max: 10 },
    label: 'FREE: Max Accounts',
    description: 'Maximum accounts for FREE plan',
    unit: 'accounts',
  },
  {
    key: 'plan.free.max_users',
    category: 'PLAN_LIMITS',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '1',
    defaultValue: '1',
    validation: { min: 1, max: 5 },
    label: 'FREE: Max Users',
    description: 'Maximum users for FREE plan',
    unit: 'users',
  },
  {
    key: 'plan.free.max_transactions_per_month',
    category: 'PLAN_LIMITS',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '100',
    defaultValue: '100',
    validation: { min: 50, max: 500 },
    label: 'FREE: Max Monthly Transactions',
    description: 'Maximum transactions per month for FREE plan',
    unit: 'transactions',
  },
  {
    key: 'plan.free.ml_features',
    category: 'PLAN_LIMITS',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'false',
    defaultValue: 'false',
    validation: {},
    label: 'FREE: ML Features',
    description: 'Enable ML features for FREE plan',
  },
  {
    key: 'plan.free.forecast_enabled',
    category: 'PLAN_LIMITS',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'false',
    defaultValue: 'false',
    validation: {},
    label: 'FREE: Forecast Enabled',
    description: 'Enable forecasting for FREE plan',
  },
  {
    key: 'plan.free.api_access',
    category: 'PLAN_LIMITS',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'false',
    defaultValue: 'false',
    validation: {},
    label: 'FREE: API Access',
    description: 'Enable API access for FREE plan',
  },
  {
    key: 'plan.pro.max_accounts',
    category: 'PLAN_LIMITS',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '10',
    defaultValue: '10',
    validation: { min: 5, max: 50 },
    label: 'PRO: Max Accounts',
    description: 'Maximum accounts for PRO plan',
    unit: 'accounts',
  },
  {
    key: 'plan.pro.max_users',
    category: 'PLAN_LIMITS',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '5',
    defaultValue: '5',
    validation: { min: 2, max: 20 },
    label: 'PRO: Max Users',
    description: 'Maximum users for PRO plan',
    unit: 'users',
  },
  {
    key: 'plan.pro.max_transactions_per_month',
    category: 'PLAN_LIMITS',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '1000',
    defaultValue: '1000',
    validation: { min: 500, max: 5000 },
    label: 'PRO: Max Monthly Transactions',
    description: 'Maximum transactions per month for PRO plan',
    unit: 'transactions',
  },
  {
    key: 'plan.pro.ml_features',
    category: 'PLAN_LIMITS',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'PRO: ML Features',
    description: 'Enable ML features for PRO plan',
  },
  {
    key: 'plan.pro.forecast_enabled',
    category: 'PLAN_LIMITS',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'PRO: Forecast Enabled',
    description: 'Enable forecasting for PRO plan',
  },
  {
    key: 'plan.pro.api_access',
    category: 'PLAN_LIMITS',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'false',
    defaultValue: 'false',
    validation: {},
    label: 'PRO: API Access',
    description: 'Enable API access for PRO plan',
  },
  {
    key: 'plan.expert.max_accounts',
    category: 'PLAN_LIMITS',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '-1',
    defaultValue: '-1',
    validation: { min: -1, max: 1000 },
    label: 'EXPERT: Max Accounts',
    description: 'Maximum accounts for EXPERT plan (-1 = unlimited)',
    unit: 'accounts',
  },
  {
    key: 'plan.expert.max_users',
    category: 'PLAN_LIMITS',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '-1',
    defaultValue: '-1',
    validation: { min: -1, max: 100 },
    label: 'EXPERT: Max Users',
    description: 'Maximum users for EXPERT plan (-1 = unlimited)',
    unit: 'users',
  },
  {
    key: 'plan.expert.max_transactions_per_month',
    category: 'PLAN_LIMITS',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '-1',
    defaultValue: '-1',
    validation: { min: -1, max: 100000 },
    label: 'EXPERT: Max Monthly Transactions',
    description: 'Maximum transactions per month for EXPERT plan (-1 = unlimited)',
    unit: 'transactions',
  },
  {
    key: 'plan.expert.ml_features',
    category: 'PLAN_LIMITS',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'EXPERT: ML Features',
    description: 'Enable ML features for EXPERT plan',
  },
  {
    key: 'plan.expert.forecast_enabled',
    category: 'PLAN_LIMITS',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'EXPERT: Forecast Enabled',
    description: 'Enable forecasting for EXPERT plan',
  },
  {
    key: 'plan.expert.api_access',
    category: 'PLAN_LIMITS',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'EXPERT: API Access',
    description: 'Enable API access for EXPERT plan',
  },

  // ═══════════════════════════════════════════════════════════════════════════
  // RATE LIMITING - 12 parameters
  // ═══════════════════════════════════════════════════════════════════════════
  {
    key: 'rate_limit.login.max_attempts',
    category: 'RATE_LIMITING',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '5',
    defaultValue: '5',
    validation: { min: 3, max: 10 },
    label: 'Login: Max Attempts',
    description: 'Maximum login attempts before lockout',
    unit: 'attempts',
  },
  {
    key: 'rate_limit.login.window_minutes',
    category: 'RATE_LIMITING',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '15',
    defaultValue: '15',
    validation: { min: 5, max: 60 },
    label: 'Login: Window',
    description: 'Time window for login rate limiting',
    unit: 'minutes',
  },
  {
    key: 'rate_limit.login.lockout_minutes',
    category: 'RATE_LIMITING',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '30',
    defaultValue: '30',
    validation: { min: 15, max: 120 },
    label: 'Login: Lockout Duration',
    description: 'Account lockout duration after max attempts',
    unit: 'minutes',
  },
  {
    key: 'rate_limit.api.max_requests',
    category: 'RATE_LIMITING',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '300',
    defaultValue: '300',
    validation: { min: 100, max: 1000 },
    label: 'API: Max Requests',
    description: 'Maximum API requests per window',
    unit: 'requests',
  },
  {
    key: 'rate_limit.api.window_minutes',
    category: 'RATE_LIMITING',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '5',
    defaultValue: '5',
    validation: { min: 1, max: 60 },
    label: 'API: Window',
    description: 'Time window for API rate limiting',
    unit: 'minutes',
  },
  {
    key: 'rate_limit.password_reset.max_attempts',
    category: 'RATE_LIMITING',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '3',
    defaultValue: '3',
    validation: { min: 2, max: 10 },
    label: 'Password Reset: Max Attempts',
    description: 'Maximum password reset requests',
    unit: 'attempts',
  },
  {
    key: 'rate_limit.password_reset.window_hours',
    category: 'RATE_LIMITING',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '24',
    defaultValue: '24',
    validation: { min: 1, max: 72 },
    label: 'Password Reset: Window',
    description: 'Time window for password reset rate limiting',
    unit: 'hours',
  },
  {
    key: 'rate_limit.email.max_per_hour',
    category: 'RATE_LIMITING',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '20',
    defaultValue: '20',
    validation: { min: 10, max: 100 },
    label: 'Email: Max Per Hour',
    description: 'Maximum emails per hour per user',
    unit: 'emails',
  },
  {
    key: 'rate_limit.export.max_per_day',
    category: 'RATE_LIMITING',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '10',
    defaultValue: '10',
    validation: { min: 5, max: 50 },
    label: 'Export: Max Per Day',
    description: 'Maximum exports per day per user',
    unit: 'exports',
  },
  {
    key: 'rate_limit.import.max_per_day',
    category: 'RATE_LIMITING',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '5',
    defaultValue: '5',
    validation: { min: 2, max: 20 },
    label: 'Import: Max Per Day',
    description: 'Maximum imports per day per user',
    unit: 'imports',
  },
  {
    key: 'rate_limit.ml_categorization.max_per_minute',
    category: 'RATE_LIMITING',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '60',
    defaultValue: '60',
    validation: { min: 10, max: 300 },
    label: 'ML Categorization: Max Per Minute',
    description: 'Maximum ML categorization requests per minute',
    unit: 'requests',
  },
  {
    key: 'rate_limit.forecast.max_per_hour',
    category: 'RATE_LIMITING',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '10',
    defaultValue: '10',
    validation: { min: 5, max: 50 },
    label: 'Forecast: Max Per Hour',
    description: 'Maximum forecast generation requests per hour',
    unit: 'requests',
  },

  // ═══════════════════════════════════════════════════════════════════════════
  // AUTHENTICATION - 10 parameters
  // ═══════════════════════════════════════════════════════════════════════════
  {
    key: 'auth.access_token_ttl_minutes',
    category: 'AUTHENTICATION',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '15',
    defaultValue: '15',
    validation: { min: 5, max: 60 },
    label: 'Access Token TTL',
    description: 'Access token expiration time',
    unit: 'minutes',
  },
  {
    key: 'auth.refresh_token_ttl_days',
    category: 'AUTHENTICATION',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '7',
    defaultValue: '7',
    validation: { min: 1, max: 30 },
    label: 'Refresh Token TTL',
    description: 'Refresh token expiration time',
    unit: 'days',
  },
  {
    key: 'auth.session_ttl_days',
    category: 'AUTHENTICATION',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '30',
    defaultValue: '30',
    validation: { min: 1, max: 365 },
    label: 'Session TTL',
    description: 'Session expiration time',
    unit: 'days',
  },
  {
    key: 'auth.password_min_length',
    category: 'AUTHENTICATION',
    scope: 'GLOBAL',
    type: 'NUMBER',
    value: '8',
    defaultValue: '8',
    validation: { min: 6, max: 32 },
    label: 'Password Min Length',
    description: 'Minimum password length',
    unit: 'characters',
  },
  {
    key: 'auth.password_require_uppercase',
    category: 'AUTHENTICATION',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'Require Uppercase',
    description: 'Password must contain uppercase letter',
  },
  {
    key: 'auth.password_require_lowercase',
    category: 'AUTHENTICATION',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'Require Lowercase',
    description: 'Password must contain lowercase letter',
  },
  {
    key: 'auth.password_require_number',
    category: 'AUTHENTICATION',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'Require Number',
    description: 'Password must contain number',
  },
  {
    key: 'auth.password_require_special',
    category: 'AUTHENTICATION',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'false',
    defaultValue: 'false',
    validation: {},
    label: 'Require Special Character',
    description: 'Password must contain special character',
  },
  {
    key: 'auth.enable_2fa',
    category: 'AUTHENTICATION',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'Enable 2FA',
    description: 'Enable two-factor authentication',
  },
  {
    key: 'auth.force_2fa_for_admin',
    category: 'AUTHENTICATION',
    scope: 'GLOBAL',
    type: 'BOOLEAN',
    value: 'false',
    defaultValue: 'false',
    validation: {},
    label: 'Force 2FA for Admins',
    description: 'Require 2FA for admin users',
  },

  // ═══════════════════════════════════════════════════════════════════════════
  // B2B INVOICING - 12 parameters
  // ═══════════════════════════════════════════════════════════════════════════
  {
    key: 'invoice.default_payment_terms',
    category: 'B2B_INVOICING',
    scope: 'COMPANY',
    type: 'NUMBER',
    value: '30',
    defaultValue: '30',
    validation: { min: 0, max: 90 },
    label: 'Default Payment Terms',
    description: 'Default payment terms for new invoices',
    unit: 'days',
  },
  {
    key: 'invoice.late_fee_percentage',
    category: 'B2B_INVOICING',
    scope: 'COMPANY',
    type: 'PERCENTAGE',
    value: '10',
    defaultValue: '10',
    validation: { min: 0, max: 50, step: 1 },
    label: 'Late Fee Percentage',
    description: 'Late payment fee percentage',
    unit: '%',
  },
  {
    key: 'invoice.early_payment_discount',
    category: 'B2B_INVOICING',
    scope: 'COMPANY',
    type: 'PERCENTAGE',
    value: '2',
    defaultValue: '2',
    validation: { min: 0, max: 10, step: 0.5 },
    label: 'Early Payment Discount',
    description: 'Discount for early payment',
    unit: '%',
  },
  {
    key: 'invoice.reminder_days_before_due',
    category: 'B2B_INVOICING',
    scope: 'COMPANY',
    type: 'NUMBER',
    value: '7',
    defaultValue: '7',
    validation: { min: 1, max: 30 },
    label: 'Reminder Before Due',
    description: 'Days before due date to send reminder',
    unit: 'days',
  },
  {
    key: 'invoice.overdue_reminder_frequency',
    category: 'B2B_INVOICING',
    scope: 'COMPANY',
    type: 'NUMBER',
    value: '7',
    defaultValue: '7',
    validation: { min: 1, max: 30 },
    label: 'Overdue Reminder Frequency',
    description: 'Days between overdue reminders',
    unit: 'days',
  },
  {
    key: 'invoice.max_overdue_reminders',
    category: 'B2B_INVOICING',
    scope: 'COMPANY',
    type: 'NUMBER',
    value: '3',
    defaultValue: '3',
    validation: { min: 1, max: 10 },
    label: 'Max Overdue Reminders',
    description: 'Maximum number of overdue reminders',
    unit: 'reminders',
  },
  {
    key: 'invoice.auto_send_enabled',
    category: 'B2B_INVOICING',
    scope: 'COMPANY',
    type: 'BOOLEAN',
    value: 'false',
    defaultValue: 'false',
    validation: {},
    label: 'Auto-Send Invoices',
    description: 'Automatically send invoices when created',
  },
  {
    key: 'invoice.numbering_format',
    category: 'B2B_INVOICING',
    scope: 'COMPANY',
    type: 'STRING',
    value: 'INV-{YYYY}-{0000}',
    defaultValue: 'INV-{YYYY}-{0000}',
    validation: {},
    label: 'Invoice Number Format',
    description: 'Invoice numbering format (e.g., INV-{YYYY}-{0000})',
  },
  {
    key: 'invoice.include_tax_breakdown',
    category: 'B2B_INVOICING',
    scope: 'COMPANY',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'Include Tax Breakdown',
    description: 'Show detailed tax breakdown on invoices',
  },
  {
    key: 'invoice.footer_text',
    category: 'B2B_INVOICING',
    scope: 'COMPANY',
    type: 'STRING',
    value: 'Merci de votre confiance',
    defaultValue: 'Merci de votre confiance',
    validation: {},
    label: 'Invoice Footer Text',
    description: 'Custom footer text for invoices',
  },
  {
    key: 'invoice.logo_enabled',
    category: 'B2B_INVOICING',
    scope: 'COMPANY',
    type: 'BOOLEAN',
    value: 'true',
    defaultValue: 'true',
    validation: {},
    label: 'Include Company Logo',
    description: 'Include company logo on invoices',
  },
  {
    key: 'invoice.pdf_language',
    category: 'B2B_INVOICING',
    scope: 'COMPANY',
    type: 'ENUM',
    value: 'fr',
    defaultValue: 'fr',
    validation: { enum: ['fr', 'en', 'de', 'es', 'it'] },
    label: 'PDF Language',
    description: 'Language for PDF invoice generation',
  },
];

async function main() {
  console.log('🌱 Seeding system configuration parameters...\n');

  let created = 0;
  let updated = 0;
  let errors = 0;

  for (const param of systemParameters) {
    try {
      // Check if parameter already exists
      const existing = await prisma.systemParameter.findUnique({
        where: { key: param.key },
      });

      if (existing) {
        // Update existing parameter
        await prisma.systemParameter.update({
          where: { key: param.key },
          data: {
            ...param,
            validation: param.validation || {},
          },
        });
        updated++;
        console.log(`✅ Updated: ${param.key}`);
      } else {
        // Create new parameter
        await prisma.systemParameter.create({
          data: {
            ...param,
            validation: param.validation || {},
          },
        });
        created++;
        console.log(`✨ Created: ${param.key}`);
      }
    } catch (error) {
      errors++;
      console.error(`❌ Error seeding ${param.key}:`, error.message);
    }
  }

  console.log('\n═══════════════════════════════════════════════════');
  console.log('📊 Seeding Summary');
  console.log('═══════════════════════════════════════════════════');
  console.log(`✨ Created: ${created} parameters`);
  console.log(`✅ Updated: ${updated} parameters`);
  console.log(`❌ Errors: ${errors}`);
  console.log(`📦 Total: ${systemParameters.length} parameters\n`);

  // Category breakdown
  const categoryCount = systemParameters.reduce((acc, param) => {
    acc[param.category] = (acc[param.category] || 0) + 1;
    return acc;
  }, {});

  console.log('📂 Parameters by Category:');
  Object.entries(categoryCount).forEach(([category, count]) => {
    console.log(`   ${category}: ${count} parameters`);
  });
  console.log('');
}

main()
  .catch((e) => {
    console.error('❌ Seeding failed:', e);
    process.exit(1);
  })
  .finally(async () => {
    await prisma.$disconnect();
  });
